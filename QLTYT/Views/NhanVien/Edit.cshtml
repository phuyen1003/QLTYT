@model QLTYT.Models.NhanVien


@{
  Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
  input[type="text"]{
    width:100%
  }
</style>

<link href="~/Content/Admin.css" rel="stylesheet">
<div class="table-title">

  <h2>Chỉnh sửa thông tin nhân viên</h2>
  <br/>
  <br/>
  <br/>
  @using (Html.BeginForm())
  {
    @Html.AntiForgeryToken()

<div class="form-horizontal">
  @Html.ValidationSummary(true, "", new { @class = "text-danger" })
  @Html.HiddenFor(model => model.IdNhanVien)

  <div class="form-group">
    Nhóm nhân viên
    <div class="col-md-10">
      <select name="IdNhomNhanVien" class="form-select">
        @foreach (var nnv in ViewBag.ListNNV)
        {
          if (Model.IdNhomNhanVien == nnv.IdNhomNhanVien)
          {
            <option value="@nnv.IdNhomNhanVien" selected="selected">@nnv.TenNhomNhanVien</option>
          }
          else
          {
            <option value="@nnv.IdNhomNhanVien"> @nnv.TenNhomNhanVien </option>
          }


        }
      </select>
    </div>
  </div>

  <div class="form-group">
    Họ tên
    <div class="col-md-10">
      @Html.EditorFor(model => model.HoTen, new { htmlAttributes = new { @class = "form-control" } })
      @Html.ValidationMessageFor(model => model.HoTen, "", new { @class = "text-danger" })
    </div>
  </div>

  <div class="form-group">
    SĐT
    <div class="col-md-10">
      <input name="SDT" type="text" value="@Model.SDT" class="quantity-input input-text qty text form-control" onkeypress="return isNumberKey(event)">
    </div>
  </div>

  <div class="form-group">
    Giới tính
    <div class="col-md-10">
      <select name="GioiTinh" class="form-select" id="GioiTinh">
        @if (@Model.GioiTinh == 0)
        {
          <option value="0" selected>Nữ</option>
          <option value="1">Nam</option>
          <option value="2">Khác</option>
        }
        @if (@Model.GioiTinh == 1)
        {
          <option value="0">Nữ</option>
          <option value="1" selected>Nam</option>
          <option value="2">Khác</option>
        }
        @if (@Model.GioiTinh == 2)
        {
          <option value="0">Nữ</option>
          <option value="1">Nam</option>
          <option value="2" selected>Khác</option>
        }

      </select>
    </div>
  </div>

  <div class="form-group">
    Ngày sinh
    <div class="col-md-10">
      <input type="date" id="NgaySinh" name="NgaySinh" value="@ViewBag.NgaySinh" />
      @Html.ValidationMessageFor(model => model.NgaySinh, "", new { @class = "text-danger" })
    </div>
  </div>
  <div class="form-group">
    Ngày sinh
    <div class="col-md-10">
      <input type="date" id="NgaySinh" name="NgaySinh" value="@ViewBag.NgaySinh" />
      @Html.ValidationMessageFor(model => model.NgaySinh, "", new { @class = "text-danger" })
    </div>
  </div>

  <div class="form-group">
    CCCD
    <div class="col-md-10">
      <input name="CCCD" value="@Model.CCCD" maxlength="12" type="text" class="cccd-input input-text qty text form-control" onkeypress="return isCCCDNumber(event)">
    </div>
  </div>

  <div class="form-group">
    Mail
    <div class="col-md-10">
      @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", type = "email" } })
      @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
    </div>
  </div>

  <div class="form-group">
    Địa chỉ
    <div class="col-md-10">
      @Html.EditorFor(model => model.DiaChi, new { htmlAttributes = new { @class = "form-control" } })
      @Html.ValidationMessageFor(model => model.DiaChi, "", new { @class = "text-danger" })
    </div>
  </div>

  <div class="form-group">
    Hình ảnh
    <div class="col-md-10">
      @if (Model.HinhAnh != null)
      {
        <img src="~/imagesNV/@Model.HinhAnh" alt="@Model.HinhAnh" height="60" width="60" style="border-radius: 5px;" id="zoom_01" class="img-fluid">
      }
      <input title="Tải lên ảnh nhân viên" type="file" name="Picture" />
      @Html.ValidationMessageFor(model => model.HinhAnh, "", new { @class = "text-danger" })
    </div>
  </div>

  <div class="form-group" style="justify-content:space-between">
    <div class="col-md-offset-2 col-md-10">
      <button class="btn btn-secondary">
        @Html.ActionLink("Quay lại", "Index")
      </button>
      <button class="btn btn-primary" type="submit" data-toggle="tooltip" data-placement="top"
              title="Lưu ">
        Lưu
      </button>
    </div>

  </div>
</div>
  }


</div>

<script>
  $(document).ready(function () {
    $('.quantity-input').bind("cut copy paste drag drop", function (e) {
      e.preventDefault();
    });

    $('.cccd-input').bind("cut copy paste drag drop", function (e) {
      e.preventDefault();
    });
  });

  function isNumberKey(e) {
    var charCode = (e.which) ? e.which : e.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode != 43)
      return false;
    return true;
  }

  function isCCCDNumber(e) {
    var charCode = (e.which) ? e.which : e.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57) /*&& charCode != 43*/)
      return false;
    return true;
  }

</script>
